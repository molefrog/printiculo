{"version":3,"file":"public/javascripts/app.js","sources":["app/collections/shot-collection.coffee","app/collections/station-collection.coffee","app/controllers/shots-controller.coffee","app/controllers/stations-controller.coffee","app/initialize.coffee","app/models/shot.coffee","app/models/station.coffee","app/routes.coffee","app/views/base/base.coffee","app/views/shot-collection-view.coffee","app/views/shot-list-view.coffee","app/views/shot-view.coffee","app/views/site-view.coffee","app/views/station-collection-view.coffee","app/views/station-list-view.coffee","app/views/templates/shot-template.jade","app/views/templates/shot.jade","app/views/templates/site.jade","app/views/templates/station.jade"],"names":[],"mappings":"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EAAZ,YAFA;CAHD;;GAMU,KAAV,UAAU;;CANV;;CADuC;A;;;ACHxC;;;;GAAkB,YAAlB,UAAkB;;AAElB,CAFA,EAEuB,GAAjB,CAAN;CACC;;;;;;;GAAW,KAAX;;;;CADoD,MAAO;A;;;ACF5D;;;;GAAO,CAAP,GAAO;;AAEP,CAFA,EAEuB,GAAjB,CAAN;CACC;;;;;;;GAAW,KAAX,iBAAW;;CAAX,EAEkB,YAAlB;WACC;EAAU,EAAC,CAAX;CADiB;CAFlB,EAEkB;;CAFlB;;CAD0C;A;;CCF3C;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A","sourcesContent":["Shot = require \"models/shot\"\n\nmodule.exports = class ShotsCollection extends Chaplin.Collection\n\tmodel : Shot\n\turl : \"/api/shots\"\n","Station = require \"models/station\"\n\nmodule.exports = class StationCollection extends Chaplin.Collection\n\tmodel : Station\n\turl : \"/api/stations\"\n","SiteView = require \"views/site-view\"\n\nShot = require \"models/shot\"\nShotView = require \"views/shot-view\"\nShotCollection = require \"collections/shot-collection\"\nShotCollectionView = require \"views/shot-collection-view\"\n\nmodule.exports = class ShotsController extends Chaplin.Controller\n\tbeforeAction : ->\n\t\t# Site view declares “main” region.\n\t\t@reuse 'site', SiteView\n\n\tindex : ->\n\t\t@collection = new ShotCollection\n\t\t@view = new ShotCollectionView\n\t\t\tcollection : @collection\n\t\t\tregion : \"main\"\n\n\t\t@collection.fetch().then =>\n\t\t\tdo @view.render\n\n\tshow : (params) ->\n\t\t@model = new Shot \n\t\t\t_id : params.id\n\n\t\t@view = new ShotView\n\t\t\tmodel : @model\n\t\t\tregion : \"main\"\n\n\t\t@model.fetch().then =>\n\t\t\tdo @view.render\n\n","SiteView = require \"views/site-view\"\nStation = require \"/models/station\"\nStationCollection = require \"/collections/station-collection\"\nStationCollectionView = require \"/views/station-collection-view\"\n\n\nmodule.exports = class StationsController extends Chaplin.Controller\n  beforeAction: ->\n    # Site view declares “main” region.\n    @reuse 'site', SiteView\n\n  # Index action. Will just display a list of users.\n  index: (params) ->\n    @collection = new StationCollection\n    @view = new StationCollectionView\n      collection : @collection\n      region : \"main\"\n\n    @collection.fetch().then =>\n      do @view.render\n","###\n Application's initialization routine \n###\n\n$ ->\n\t# Initialize new Chaplin application.\n\t# Specify controller suffix for clarity.\n\tnew Chaplin.Application\n\t\tcontrollerSuffix: '-controller'\n\t\tpushState: true\n\t\troutes: require \"routes\"","module.exports = class Shot extends Chaplin.Model\n\tidAttribute : \"_id\"\n\turlRoot : \"/api/shots\"\n\turl : -> \"/api/shots/#{@id}\"","\nmodule.exports = class Station extends Chaplin.Model\n\turlRoot : \"/api/stations\"\n\turl: ->\n\t\t\"/api/stations/#{@get 'name'}\"","\nmodule.exports = (match) ->\n\tmatch \"stations\",     \"stations#index\"\n\tmatch \"stations/:id\", \"stations#show\"\n\n\tmatch \"shots\",        \"shots#index\"\n\tmatch \"shots/:id\",    \"shots#show\"\n\t","jade.url = Chaplin.utils.reverse\n \n# Base view.\nmodule.exports = class View extends Chaplin.View\n\t# Precompiled templates function initializer.\n\tgetTemplateFunction: ->\n\t\t@template","ShotListView = require \"views/shot-list-view\"\n\nmodule.exports = class ShotCollectionView extends Chaplin.CollectionView\n\titemView : ShotListView","View = require \"views/base/base\"\n\nmodule.exports = class ShotListView extends View\n\ttemplate : require \"views/templates/shot\"\n\n\tgetTemplateData : ->\n\t\tshot : @model\n","View = require \"views/base/base\"\n\nmodule.exports = class ShotView extends View\n\ttemplate : require \"views/templates/shot-template\"\n\n\tgetTemplateData : ->\n\t\tshot : @model\n","View = require 'views/base/base'\n \n# Site view is a top-level view which is bound to body.\nmodule.exports = class SiteView extends View\n\tcontainer: 'body'\n\tid: 'site-container'\n\tregions:\n\t\turl: '#page-url'\n\t\tmain: '#main-container'\n\t\tnavigation: '#nav-container'\n\ttemplate: require './templates/site'\n","StationListView = require \"views/station-list-view\"\n\nmodule.exports = class StationCollectionView extends Chaplin.CollectionView\n\titemView : StationListView","View = require \"views/base/base\"\n\nmodule.exports = class StationView extends View\n\ttemplate : require \"views/templates/station\"\n\n\tgetTemplateData : ->\n\t\tstation : @model\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),shot = locals_.shot;\nbuf.push(\"<div class=\\\"container\\\"><div class=\\\"row\\\"><img\" + (jade.attr(\"src\", \"\" + ( shot.attributes.image ) + \"\", true, false)) + \" width=\\\"400\\\" height=\\\"400\\\" class=\\\"img-rounded\\\"/><p class=\\\"lead\\\">Опубликовано \" + (jade.escape((jade.interp = shot.attributes.instagram.user.username) == null ? '' : jade.interp)) + \"</p></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),shot = locals_.shot;\nbuf.push(\"<a\" + (jade.attr(\"href\", jade.url('shots#show', { id : shot.id }), true, false)) + \"><img\" + (jade.attr(\"src\", \"\" + ( shot.attributes.thumbnail ) + \"\", true, false)) + \" class=\\\"img-rounded\\\"/></a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"container\\\"><ul class=\\\"nav nav-pills\\\"><li><a\" + (jade.attr(\"href\", \"\" + (jade.url('stations#index')) + \"\", true, false)) + \">Печатные Станции</a></li><li><a\" + (jade.attr(\"href\", \"\" + (jade.url('shots#index')) + \"\", true, false)) + \">Фотографии</a></li><li><a>О Проекте</a></li></ul><div id=\\\"main-container\\\"></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),station = locals_.station;\nbuf.push(\"<div class=\\\"station-item\\\"><h3>\" + (jade.escape(null == (jade.interp = station.get(\"title\") ) ? \"\" : jade.interp)) + \" <span class=\\\"label label-success\\\">Онлайн</span></h3><p class=\\\"lead\\\">\" + (jade.escape(null == (jade.interp = station.get(\"description\")) ? \"\" : jade.interp)) + \"</p></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}