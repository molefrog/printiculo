{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/collections/shotCollection.coffee","app/collections/stationCollection.coffee","app/controllers/auth/authController.coffee","app/controllers/auth/loginController.coffee","app/controllers/auth/stationAuthController.coffee","app/controllers/shotsController.coffee","app/controllers/staticController.coffee","app/controllers/stationsController.coffee","app/initialize.coffee","app/models/shot.coffee","app/models/station.coffee","app/routes.coffee","app/storage.coffee","app/views/about/aboutView.coffee","app/views/about/aboutView_.jade","app/views/auth/loginView.coffee","app/views/auth/loginView_.jade","app/views/base/base.coffee","app/views/shot/shotView.coffee","app/views/shot/shotViewTemplate.jade","app/views/site/siteView.coffee","app/views/site/siteView_.jade","app/views/station/create/stationCreateView.coffee","app/views/station/create/stationCreateViewTemplate.jade","app/views/station/edit/stationEditTemplate.jade","app/views/station/edit/stationEditView.coffee","app/views/station/list/stationListItemView.coffee","app/views/station/list/stationListItemView_.jade","app/views/station/list/stationListView.coffee","app/views/station/list/stationListView_.jade","app/views/station/stationView.coffee","app/views/station/stationView_.jade"],"names":[],"mappings":"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","sourcesContent":["Storage = require \"storage\"\n\n# The application object.\nmodule.exports = class Application extends Chaplin.Application\n\tstart: ->\n\t\t\n\t\t# Get auth state from the server\n\t\t$.get \"/api/auth\", (data) =>\n\t\t\tif data.auth\n\t\t\t\tStorage.user = data.user\n\n\t\t\tsuper","Shot = require \"models/shot\"\n\nmodule.exports = class ShotsCollection extends Chaplin.Collection\n\tmodel : Shot\n\turl : \"/api/shots\"\n","Station = require \"models/station\"\n\nmodule.exports = class StationCollection extends Chaplin.Collection\n\t_.extend @prototype, Chaplin.SyncMachine\n\t\n\tmodel : Station\n\turl : \"/api/stations\"\n","Storage = require \"storage\"\n\nmodule.exports = class AuthController extends Chaplin.Controller \n\tbeforeAction: (params, route) ->\n\t\tif not Storage.user?\n\t\t\tStorage.redirectUrl = window.location.pathname\n\t\t\t@redirectTo 'auth_login' \n\n","LoginView = require \"views/auth/loginView\"\nSiteView = require \"views/site/siteView\"\n\nStorage = require \"storage\"\n\nmodule.exports = class LoginController extends Chaplin.Controller\n\tbeforeAction : ->\n\t\t# Site view declares “main” region.\n\t\t@reuse 'site', SiteView\n\n\tlogin : ->\n\t\t@view = new LoginView\n\t\t\tregion : \"main\"\n\t\t\tautoRender : true \n\n\tlogout : ->\n\t\t$.post(\"/api/auth/logout\")\n\t\t.then =>\n\t\t\tStorage.user = null\n\t\t\t@redirectTo \"static#about\"\n","AuthController    = require \"./authController\"\n\nStation           = require \"models/station\"\nStationEditView   = require \"views/station/edit/stationEditView\"\nStationCreateView = require \"views/station/create/stationCreateView\" \n\nSiteView        = require \"views/site/siteView\"\n\nmodule.exports = class stationAuthController extends AuthController\n\tbeforeAction : ->\n\t\tsuper\n\t\t# Site view declares “main” region.\n\t\t@reuse 'site', SiteView\n\n\tedit : (params) ->\n\t\t@model = new Station\n\t\t\tname : params.name\n\n\t\t@view = new StationEditView\n\t\t\tmodel : @model\n\t\t\tregion : \"main\"\n\n\t\t@model.fetch().then =>\n\t\t\tdo @view.render\n\n\tcreate : (params) ->\n\t\t@view = new StationCreateView\n\t\t\tregion : \"main\"\n\t\t\tautoRender : true\n","SiteView = require \"views/site/siteView\"\n\nShot = require \"models/shot\"\n\nShotView = require \"views/shot/shotView\"\n# ShotCollection = require \"collections/shot-collection\"\n# ShotCollectionView = require \"views/shot-collection-view\"\n\nmodule.exports = class ShotsController extends Chaplin.Controller\n\tbeforeAction : ->\n\t\t# Site view declares “main” region.\n\t\t@reuse 'site', SiteView\n\n\tindex : ->\n\t\t# @collection = new ShotCollection\n\t\t# @view = new ShotCollectionView\n\t\t# \tcollection : @collection\n\t\t# \tregion : \"main\"\n\n\t\t# @collection.fetch().then =>\n\t\t# \tdo @view.render\n\n\tshow : (params) ->\n\t\t@model = new Shot \n\t\t\t_id : params.id\n\n\t\t@view = new ShotView\n\t\t\tmodel : @model\n\t\t\tregion : \"main\"\n\n\t\t@model.fetch().then =>\n\t\t\tdo @view.render\n\n","SiteView  = require \"views/site/siteView\"\nAboutView = require \"views/about/aboutView\"\n\nmodule.exports = class StaticController extends Chaplin.Controller\n\tbeforeAction: ->\n\t\t@reuse 'site', SiteView\n\n\tabout: (params) -> \n\t\t@view = new AboutView\n\t\t\tautoRender : true\n\t\t\tregion : \"main\"\n","SiteView = require \"views/site/siteView\"\nStation = require \"/models/station\"\n\n\nStationCollection = require \"/collections/stationCollection\"\nStationListView   = require \"/views/station/list/stationListView\"\n\nStationEditView = require \"/views/station/edit/stationEditView\"\nStationView = require \"/views/station/stationView\"\n\n\nmodule.exports = class StationsController extends Chaplin.Controller\n  beforeAction: ->\n    # Site view declares “main” region.\n    @reuse 'site', SiteView\n\n  # Index action. Will just display a list of users.\n  index: (params) ->\n    @collection = new StationCollection\n    @view = new StationListView\n      collection : @collection\n      region : \"main\"\n\n    @collection.fetch().then =>\n      do @view.render\n\n  show : (params) ->\n    @model = new Station \n      name : params.name\n\n    @view = new StationView\n      model : @model\n      region : \"main\"\n\n    @model.fetch().then =>\n      do @view.render\n\n\n\n\n\n","Application = require \"application\"\n\n###\n Application's initialization routine \n###\n$ ->\n\t# Initialize new Chaplin application.\n\t# Specify controller suffix for clarity.\n\tnew Application\n\t\tcontrollerSuffix: 'Controller'\n\t\tpushState: true\n\t\troutes: require \"routes\"","module.exports = class Shot extends Chaplin.Model\n\tidAttribute : \"_id\"\n\turlRoot : \"/api/shots\"\n\turl : -> \"/api/shots/#{@name}\"","\nmodule.exports = class Station extends Chaplin.Model\n\tidAttribute: \"name\"\n\t\n\turlRoot : \"/api/stations\"\n\t","\nmodule.exports = (match) ->\n\tmatch \"stations\",            \"stations#index\"\n\n\tmatch \"stations/create\", \n\t\tcontroller : \"auth/stationAuth\"\n\t\taction : \"create\"\n\t\tname : \"station_create\"\n\t\n\tmatch \"stations/:name\",      \"stations#show\"\n\n\tmatch \"stations/:name/edit\", \n\t\tcontroller : \"auth/stationAuth\"\n\t\taction : \"edit\"\n\t\tname : \"station_edit\"\n\t\t\n\n\tmatch \"auth/login\", \n\t\tcontroller : \"auth/login\"\n\t\taction : \"login\"\n\t\tname : \"auth_login\"\n\n\tmatch \"auth/logout\", \n\t\tcontroller : \"auth/login\"\n\t\taction : \"logout\"\n\t\tname : \"auth_logout\"\n\n\tmatch \"shots\",        \"shots#index\"\n\tmatch \"shots/:id\",    \"shots#show\"\n\n\tmatch \"\",             \"static#about\"\n\t","module.exports = class Storage \n\t","View = require \"views/base/base\"\n\nmodule.exports = class AboutView extends View\n\ttemplate : require \"./aboutView_\"\n\n\tgetTemplateData : ->","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"text-center\\\"><div class=\\\"row\\\"><div class=\\\"landing col-md-12\\\"><h1>#steviewhale</h1><p>Моментальная печать фотографий из Instagram</p><img src=\\\"/images/stevie.svg\\\" class=\\\"img-responsive\\\"/><h2>Привет, друг! </h2><div class=\\\"row\\\"><div class=\\\"col-md-6 col-md-offset-3\\\">\\t\\t\\t\\t<p class=\\\"lead\\\">Меня зовут Стиви! Я большой фиолетовый кит.</p></div></div></div></div><div class=\\\"row\\\"><div class=\\\"how-it-works col-md-12\\\"><div class=\\\"container\\\"><h1>Как это работает?</h1><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><div class=\\\"super-icon glyphicon glyphicon-camera\\\"></div><h3>Публикуйте</h3><p>Опубликуйте фотографию в Instagram\\nс хештегом #steviewhale</p></div><div class=\\\"col-md-4\\\"><div class=\\\"super-icon glyphicon glyphicon-print\\\"></div><h3>Печатайте</h3><p>Фотография сразу же напечатается на одной\\nиз печатных станций, которые предоставляются\\nдобряками.</p></div><div class=\\\"col-md-4\\\"><div class=\\\"super-icon glyphicon glyphicon-heart\\\"></div><h3>Забирайте</h3><p>Заберите фотографию с печатной станции. Не забудьте поблагодарить\\nвладельца! Можно сказать \\\"спасибо\\\", спеть песенку, а можно просто душевно\\nобнять этого благородного человека!  </p></div></div></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View = require \"views/base/base\"\n\nStorage = require \"storage\"\n\nmodule.exports = class LoginView extends View\n\tinitialize : ->\n\t\t@delegate \"click\", \".login-button\", @login\n\n\tloginSuccess : (user) ->\n\t\tStorage.user = user\n\t\tif Storage.redirectUrl?\n\t\t\tChaplin.utils.redirectTo \n\t\t\t\turl : Storage.redirectUrl \n\t\telse\n\t\t\tChaplin.utils.redirectTo \"static#about\"\n\n\tlogin : -> \n\t\tdata = \n\t\t\tusername : @$(\".login-field\").val()\n\t\t\tpassword : @$(\".password-field\").val()\n\n\t\t$.post('/api/auth/login', data)\n\t\t.done (data) =>\n\t\t\t@loginSuccess data.user\n\t\t.fail =>\n\t\t\talert \"fail\"\n\n\ttemplate : require \"./loginView_\"\n\n\tgetTemplateData : -> ","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<form role=\\\"form\\\" class=\\\"text-center login-form\\\"><h2>Вумпс! Авторизуйтесь</h2><div class=\\\"logo-container\\\"><img src=\\\"/images/stevie.svg\\\" class=\\\"img-responsive\\\"/></div><div class=\\\"form-group form-group-lg\\\"><input type=\\\"text\\\" placeholder=\\\"Логин\\\" class=\\\"login-field form-control\\\"/><input type=\\\"password\\\" placeholder=\\\"Пароль\\\" class=\\\"password-field form-control\\\"/></div><div class=\\\"login-button btn btn-lg btn-primary btn-block\\\">Войти</div></form>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","jade.url = Chaplin.utils.reverse\n\njade.markdown = do ->\n\tconverter = new Showdown.converter()\n\t(text) =>\n\t\tconverter.makeHtml text if text?\n\nStorage = require \"storage\"\njade.auth = ->\n\tStorage.user?\n\n\n \n# Base view.\nmodule.exports = class View extends Chaplin.View\n\t# Precompiled templates function initializer.\n\tgetTemplateFunction: ->\n\t\t@template","View = require \"views/base/base\"\n\nmodule.exports = class ShotView extends View\n\ttemplate : require \"./shotViewTemplate\"\n\n\tgetTemplateData : ->\n\t\tshot : @model\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),shot = locals_.shot;\nbuf.push(\"<div class=\\\"container\\\"><div class=\\\"row\\\"><img\" + (jade.attr(\"src\", \"\" + ( shot.attributes.image ) + \"\", true, false)) + \" width=\\\"400\\\" height=\\\"400\\\" class=\\\"img-rounded\\\"/><p class=\\\"lead\\\">Опубликовано \" + (jade.escape((jade.interp = shot.attributes.instagram.user.username) == null ? '' : jade.interp)) + \"</p></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View = require 'views/base/base'\n \n# Site view is a top-level view which is bound to body.\nmodule.exports = class SiteView extends View\n\tcontainer: 'body'\n\n\tid: 'site-container'\n\t\n\tregions:\n\t\turl: '#page-url'\n\t\tmain: '#main-container'\n\t\tnavigation: '#nav-container'\n\n\ttemplate: require './siteView_'","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<nav role=\\\"navigation\\\" class=\\\"navbar navbar-inverse navbar-static-top\\\"><div class=\\\"container\\\"><ul class=\\\"nav navbar-nav\\\"><li><a\" + (jade.attr(\"href\", jade.url(\"static#about\"), true, false)) + \"><span class=\\\"glyphicon glyphicon-home\\\"></span> О Проекте</a></li><li><a\" + (jade.attr(\"href\", \"\" + (jade.url('stations#index')) + \"\", true, false)) + \"><span class=\\\"glyphicon glyphicon-print\\\"></span> Печатные Станции</a></li><li><a\" + (jade.attr(\"href\", \"\" + (jade.url('shots#index')) + \"\", true, false)) + \"><span class=\\\"glyphicon glyphicon-camera\\\"></span> Фотографии</a></li></ul><ul class=\\\"nav navbar-nav navbar-right\\\">\");\nif ( !jade.auth())\n{\nbuf.push(\"<li><a\" + (jade.attr(\"href\", \"\" + (jade.url('auth_login')) + \"\", true, false)) + \"> Войти</a></li>\");\n}\nelse\n{\nbuf.push(\"<li><a\" + (jade.attr(\"href\", \"\" + (jade.url('auth_logout')) + \"\", true, false)) + \"> Выйти</a></li>\");\n}\nbuf.push(\"</ul></div></nav><div class=\\\"container-fluid site-container\\\"><div id=\\\"main-container\\\"></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View = require \"views/base/base\"\n\nStation           = require \"models/station\"\nStationCollection = require \"collections/stationCollection\"\n\nmodule.exports = class StationCreateView extends View\n\tinitialize : ->\n\t\t@delegate \"click\", \".register-button\", @register\n\n\tregister : ->\n\t\tfields = \n\t\t\ttitle : @$(\".title-input\").val()\n\t\t\tsubtitle : @$(\".subtitle-input\").val()\n\n\t\tstation = new Station fields\n\n\t\tstation.save null,\n\t\t\tsuccess : ->\n\t\t\t\tChaplin.utils.redirectTo(\"stations#index\")\n\n\n\n\ttemplate : require \"./stationCreateViewTemplate\"\n\n\tgetTemplateData : ->","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div role=\\\"form\\\" class=\\\"form\\\"><div class=\\\"form-group\\\"><input type=\\\"text\\\" placeholder=\\\"Название\\\" class=\\\"title-input form-control\\\"/></div><div class=\\\"form-group\\\"><input type=\\\"text\\\" placeholder=\\\"Подзаголовок\\\" class=\\\"subtitle-input form-control\\\"/></div><div class=\\\"row\\\"><div class=\\\"col-md-4 col-md-offset-4\\\"><div class=\\\"register-button btn btn-primary btn-lg btn-block save-button\\\">Зарегистрировать</div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),station = locals_.station;\nbuf.push(\"<div role=\\\"form\\\" class=\\\"form\\\"><div class=\\\"form-group\\\"><label>Краткий адрес (URL)</label><input type=\\\"text\\\"\" + (jade.attr(\"value\", station.name, true, false)) + \" class=\\\"name-input form-control\\\"/></div><div class=\\\"form-group\\\"><label>Название</label><input type=\\\"text\\\"\" + (jade.attr(\"value\", station.title, true, false)) + \" class=\\\"title-input form-control\\\"/></div><div class=\\\"form-group\\\"><label>Подзаголовок</label><input type=\\\"text\\\"\" + (jade.attr(\"value\", station.subtitle, true, false)) + \" class=\\\"subtitle-input form-control\\\"/></div><div class=\\\"form-group\\\"><label>Описание <small>(Поддерживает Markdown)</small></label><textarea rows=\\\"10\\\"\" + (jade.attr(\"text\", station.description, true, false)) + \" class=\\\"desc-input form-control\\\">\" + (jade.escape(null == (jade.interp = station.description) ? \"\" : jade.interp)) + \"</textarea></div><div class=\\\"row\\\"><div class=\\\"col-md-4 col-md-offset-4\\\"><div class=\\\"login-button btn btn-primary btn-lg btn-block save-button\\\">Сохранить</div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View    = require \"views/base/base\"\nStation = require \"models/station\"\n\nmodule.exports = class StationEditView extends View\n\tmodel : Station\n\n\ttemplate : require \"./stationEditTemplate\"\n\n\tinitialize : ->\n\t\t@delegate 'click', '.save-button', @save \n\n\tsave : ->\n\t\tfields =  \n\t\t\tname\t\t: @$(\".name-input\").val()\n\t\t\ttitle       : @$(\".title-input\").val()\n\t\t\tsubtitle    : @$(\".subtitle-input\").val()\n\t\t\tdescription : @$(\".desc-input\").val()\n\n\t\tconsole.log fields\n\n\t\t@model.save fields, \n\t\t\tsuccess : =>\n\t\t\t\tconsole.log @model\n\t\t\t\tChaplin.utils.redirectTo \"stations#show\",\n\t\t\t\t\tname : @model.attributes.name\n\n\tgetTemplateData : ->\n\t\tstation : @model.attributes\n","View = require \"views/base/base\"\nStorage = require \"storage\"\n\nmodule.exports = class StationListItemView extends View\n\ttemplate : require \"./stationListItemView_\"\n\n\tgetTemplateData : ->\n\t\tstation : @model.attributes\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),station = locals_.station;\nbuf.push(\"<div class=\\\"station-item\\\"><h3><a\" + (jade.attr(\"href\", jade.url('stations#show', { name : station.name }), true, false)) + \">\" + (jade.escape(null == (jade.interp = station.title ) ? \"\" : jade.interp)) + \"</a> \");\nswitch (station.online){\ncase true :\nbuf.push(\"<span class=\\\"label label-success\\\">Онлайн</span>\");\n  break;\ndefault:\nbuf.push(\"<span class=\\\"label label-warning\\\">Оффлайн</span>\");\n  break;\n}\nbuf.push(\"</h3><p class=\\\"lead\\\">\" + (jade.escape(null == (jade.interp = station.subtitle) ? \"\" : jade.interp)) + \"</p></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","StationListItemView = require \"./stationListItemView\"\n\nmodule.exports = class StationListView extends Chaplin.CollectionView\n\tanimationDuration : 300\n\titemView : StationListItemView\n\n\tlistSelector : \".station-list\"\n\n\tloadingSelector : \".loading-container\"\n\n\ttemplate : require \"./stationListView_\"\n\n\n\tgetTemplateData : ->\n\tgetTemplateFunction: ->\n\t\t@template","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\">\");\nif ( jade.auth())\n{\nbuf.push(\"<a\" + (jade.attr(\"href\", jade.url(\"station_create\"), true, false)) + \" class=\\\"btn btn-default\\\">Зарегистрировать Станцию</a>\");\n}\nbuf.push(\"<div class=\\\"loading-container\\\"><h2>Загрузка</h2></div><div class=\\\"station-list\\\"></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View    = require \"views/base/base\"\nStation = require \"models/station\"\n\nmodule.exports = class StationView extends View\n\tmodel : Station\n\n\tinitialize : ->\n\t\t@delegate \"click\", \".delete-confirm-button\", @deleteStation\n\t\n\tdeleteStation : ->\n\t\t@$(\".delete-modal\").modal(\"hide\")\n\t\t@model.destroy\n\t\t\tsuccess : =>\n\t\t\t\tChaplin.utils.redirectTo \"stations#index\"\n\n\ttemplate : require \"./stationView_\"\n\n\tgetTemplateData : ->\n\t\tstation : @model.attributes\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),station = locals_.station;\nbuf.push(\"<div class=\\\"container\\\"><div class=\\\"station-item\\\"><h1>\" + (jade.escape(null == (jade.interp = station.title ) ? \"\" : jade.interp)) + \" \");\nswitch (station.online){\ncase true :\nbuf.push(\"<span class=\\\"label label-success\\\">Онлайн</span>\");\n  break;\ndefault:\nbuf.push(\"<span class=\\\"label label-warning\\\">Оффлайн</span>\");\n  break;\n}\nbuf.push(\"</h1><h2>\");\nif ( jade.auth())\n{\nbuf.push(\"<div class=\\\"btn-group btn-group-sm\\\"><button type=\\\"button\\\" data-toggle=\\\"dropdown\\\" class=\\\"btn btn-default dropdown-toggle\\\"><span class=\\\"glyphicon glyphicon-cog\\\"></span> <span class=\\\"caret\\\"></span></button><ul role=\\\"menu\\\" class=\\\"dropdown-menu\\\"><li><a\" + (jade.attr(\"href\", jade.url('station_edit', {name : station.name}), true, false)) + \" class=\\\"edit-button\\\"><span class=\\\"glyphicon glyphicon-pencil\\\"></span> Редактировать</a></li><li><a href=\\\"#\\\" data-toggle=\\\"modal\\\" data-target=\\\".delete-modal\\\" class=\\\"delete-button\\\"><span class=\\\"glyphicon glyphicon-remove\\\"></span> Удалить</a></li></ul></div>\");\n}\nbuf.push(\" <small>\" + (jade.escape(null == (jade.interp = station.subtitle) ? \"\" : jade.interp)) + \"</small></h2><p class=\\\"lead\\\">\" + (null == (jade.interp = jade.markdown(station.description)) ? \"\" : jade.interp) + \"</p></div><div tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"mySmallModalLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal delete-modal\\\"><div class=\\\"modal-dialog modal-sm\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h4 class=\\\"modal-title\\\">Удалить станцию?</h4></div><div class=\\\"modal-body\\\">Внимательно подумайте перед удалением станции, возможно, она вам \\nеще пригодится!\\t</div><div class=\\\"modal-footer text-center\\\"><button class=\\\"delete-confirm-button btn btn-primary\\\">Да!</button><button data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">Нет, я передумал.</button></div></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}